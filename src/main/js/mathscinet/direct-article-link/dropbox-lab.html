<html>
<head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/dropbox.js/0.9.2/dropbox.min.js">
	</script>
</head>
<body>
	<script>
	var client = new Dropbox.Client({ key: "cIrBuCz5CWA=|fGPZmdP8KEuRpnB0DUK27/oCcPvCWXzzJAF16wpHuA==" /* encoded at https://dl-web.dropbox.com/spa/pjlfdak1tmznswp/api_keys.js/public/index.html */, sandbox: true });

	client.authDriver(new Dropbox.Drivers.Redirect());
	client.authenticate(function(error, client) {
		if (error) {
    // Replace with a call to your own error-handling code.
    //
    // Don't forget to return from the callback, so you don't execute the code
    // that assumes everything went well.
    return showError(error);
}

  // Replace with a call to your own application code.
  //
  // The user authorized your app, and everything went well.
  // client is a Dropbox.Client instance that you can use to make API calls.
  tryOutDropbox(client);
});

	function tryOutDropbox(client) {

		client.getUserInfo(function(error, userInfo) {
			if (error) {
    return showError(error);  // Something went wrong.
}

alert("Hello, " + userInfo.name + "!");
});

		client.writeFile("hello_world.txt", "Hello, world!\n", function(error, stat) {
  if (error) {
    return showError(error);  // Something went wrong.
  }

  alert("File saved as revision " + stat.revisionTag);
});
	}

//    client.authDriver(new Dropbox.Drivers.Chrome({ receiverPath: chrome.extension.getURL("oauth/chrome_oauth_receiver.html") }));
//    client.authenticate(function(error, client) {
//                        if (error) {
//                            alert("Dropbox authentication failed: ", error);
//                            // Don't forget to return from the callback, so you don't execute the code
//                            // that assumes everything went well.
//                            return false;
//                        } else {
//                            alert("Successfully authenticated Dropbox!");
//                        }
//                        });

</script>
</body>
</html>